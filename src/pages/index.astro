---
import Layout from "../layouts/Layout.astro";
import { supabase } from "../lib/supabase";
import { type video } from "@/lib/types/data";

const { data: videos, error } = await supabase
  .from("videos")
  .select("*")
  .order("id", { ascending: true });
---

<Layout title="LHDA Botonera" description="LHDA Botonera: Una lista de botones que reproducen los memes mas iÃ³nicos. Todo sea por los jijos de Milei">
  <section>
    <p>
      <!-- Botonera hecha especialmente para reproducir en un instante los memes
      caracterÃ­sticos de <span class="font-bold">
        <a
        class="font-medium text-blue-600 dark:text-primary hover:underline"
          href="https://www.youtube.com/@losherederosdealberdi"
          target="_blank"
          rel="noopener noreferrer">Los Herederos de Alberdi</a
        ></span
      > -->
    </p>
    <h1 class="text-white text-4xl font-bold text-center">ðŸŽ¬ Lista de videos</h1>
      {error && <p>Error: {error.message}</p>}
      <ul class="grid md:grid-cols-4  m-auto place-content-center h-[900px] overflow-auto w-[80%]">
        {
          videos?.map((video :video) => (
            <li class="p-4 bg-[#0e1114] group text-white rounded-lg">
               <a href={video.link} target="_blank" class="relative bg-transparent hover:bg-black/50 transition duration-300 block">
                 <picture>
                   <img src={video.thumbnail} alt={video.title} class="rounded-lg aspect-video object-cover w-full" />
                 </picture>
                 <div class="bg-black/60 group-hover:bg-transparent transition duration-300 absolute inset-0 rounded-lg overflow-hidden"></div>
                 <span class="absolute text-xl truncate inset-0 flex items-center justify-center text-center px-2 z-10 group-hover:text-transparent transition duration-300 m-5">
                   <strong>{video.title}</strong>
                 </span>
               </a>
            </li>

          ))
        }
      </ul>
  </section>
</Layout>

<style>
  #cursive {
    font-family: "Luxurious";
  }

  ul{
    {
      box-shadow:
        0px 5px 50px -5px rgba(0, 0, 0, 0.1),
        0px 0px 0 1px rgba(0, 0, 0, 0.3);
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(10px);
    }
  }
</style>
